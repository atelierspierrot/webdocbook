Organizing your *WebDocBook* files
===============================

Architecture
------------

The default global architecture of your DocBook is:

    | src/
    | var/
    | user/
    | www/

-   `src/` contains the PHP sources of the application and the template files ; it 
    follows an architecture like:

        | src/
        | ---- config/
        | ---- DocBook/
        | ---- templates/

-   `var/` is a sub-directory to store some configurations and cached files ; the best 
    practice is to not touch them but you can, in extreme conditions, erase all its 
    contents without worry ; it is (re-)generated by the application ;

-   `user/` is the directory to put your own user configuration or templates (see the 
    [Fallback system](#fallback-system) section for more info) ; you can create it as it
    doesn't exist in the distribution ; it may follow an architecture like:

        | user/
        | ---- docbook.config
        | ---- templates/

-   `www/` sub-directory must be the `DOCUMENT_ROOT` of your virtual host (anything outside 
    this directory is not used in HTML pages) ; it must follow an architecture like:

        | www/
        | ---- webdocbook_assets/
        | ---- .htaccess
        | ---- index.php

**NOTE** - A `vendor/` sub-directory will be created by the application in both `src/` and 
`www/webdocbook_assets/` directories to store the vendor external packages used by DocBook ;
do not modify them.

Data files organization
-----------------------

All your Markdown files, the real pages of your website, have to be stored in the `www/` 
directory or its sub-directories.

Any assets, image or other media file, that you want to include or use in your Markdown
contents must be stored in an `assets/` sub-directory in the current directory. If you do
not follow this rule, your file will not be accessible by Apache.

By default, any file contained in a directory named `wip/` will not be displayed publicly 
and will not be referenced in the sitemap neither in the index ; to view it, you will have 
to manually write its URL (see the [Routing](#url-routing) section of this document to 
learn more about the application URLs' construction). 

Knowing that, a classic DocBook directory organization should be:

    | chapter-name/
    | ------------- README.md           // the first file shown loading the directory
    | ------------- assets/             // a directory containing your medias
    | ------------- wip/                // a directory containing your work-in-progress contents
    | ------------- PAGE.md             // a Markdown content file (page 1)
    | ------------- OTHER-PAGE.md       // another Markdown content file (page 2)
    | ------------- OTHER-PAGE.fr.md    // the french translation of page 2
    | ------------- sub-chapter1/       // a sub-directory containing a sub-chapter
    | ------------- sub-chapter2/       // a sub-directory containing another sub-chapter

### The DocBook chapters

All your first depth directories (directories contained directly in your DocBook `www/` root)
are considered as your chapters and are listed in the header navigation bar of each page
for quick access.

### Translations

Each document can be translated, naming the translation file like:

    CONTENT.md
    CONTENT.fr.md // translation in French
    ...

----
**Copyleft (c) 2008-2015 [Les Ateliers Pierrot](http://www.ateliers-pierrot.fr/)** - Paris, France - Some rights reserved.

Scripts are licensed under the [GNU General Public License version 3](http://www.gnu.org/licenses/gpl.html).

Contents are licensed under the [Creative Commons - Attribution - Share Alike - Unported - version 3.0](http://creativecommons.org/licenses/by-sa/3.0/) license.
